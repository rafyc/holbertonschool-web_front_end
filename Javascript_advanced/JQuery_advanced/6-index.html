<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 5</title>
    <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
        integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous">
        </script>
    <script type="application/javascript">
        const createFamilyTree = () => {
            $('body').append('<table/>')
            $('table').append('<thead/>')
            $('thead').append('<th/>Firstname<th/>Lastname')
            $('table').append('<tbody/>')
        }
        const addNewMember = (firstName, LastName, position) => {
            position == 'before' ?
                $('tbody').prepend(`<tr/><td/>${firstName}<td/>${LastName}<td/>(x)`) :
                $('tbody').append(`<tr/><td/>${firstName}<td/>${LastName}<td/>(x)`)

            $('td:contains(x)').css('background-color', 'orange')
            $('tr:last-child').on('click', function (event) {
                $(event.currentTarget).remove()
            })
        }
        const createForm = () => {
            $('body').prepend('<input type="text"/><input type="text"/><select/><option/>Before<option/>After<input type="submit"/>')
            $('input[type="submit"]').on('click', function () {
                val1 = $('input[type="text"]:first').val()
                val2 = $('input[type="text"]:nth-of-type(2)').val()
                val3 = $('select option:selected').val().toLowerCase()
                addNewMember(val1, val2, val3)
            })
        }

        $(function () { createFamilyTree() })
        $(function () { createForm() })

    </script>

</head>

<body>

</body>

</html>
