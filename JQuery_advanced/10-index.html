<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 5</title>
    <style>
    </style>
    <script src="https://code.jquery.com/jquery-3.6.4.js"
        integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <script type="application/javascript">
        const addPostRow = (data) => {
            $('body').append(`<p/><span/>Post created with id ${data.id}, title: ${data.title}, author: ${data.author}`)
        }
        const listPosts = () => {
            $.get(
                'http://localhost:3000/posts',
                function (res, status, jqxhr) {
                    console.log(status);
                    if (status === 'success' && jqxhr.status === 200) {
                        for (let i = 0; i < res.length; i++)
                            addPostRow(res[i]);
                    }
                },
            ).fail(function () {
                alert('Server Error')
            })
        }
        listPosts()
    </script>

</head>

<body>

</body>

</html>
